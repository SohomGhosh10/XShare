<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notifications - XShare</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="assets/favicon.svg" type="image/svg+xml">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect width="32" height="32" rx="8" fill="url(#logo-gradient)"/>
                    <path d="M8 12L16 8L24 12L16 16L8 12Z" fill="white"/>
                    <path d="M8 20L16 16L24 20L16 24L8 20Z" fill="white" opacity="0.7"/>
                    <defs>
                        <linearGradient id="logo-gradient" x1="0" y1="0" x2="32" y2="32">
                            <stop stop-color="#5b61ff"/>
                            <stop offset="1" stop-color="#6ee0ff"/>
                        </linearGradient>
                    </defs>
                </svg>
                <span class="logo-text">XShare</span>
            </div>
            
            <div class="nav-links desktop-only">
                <a href="index.html" class="nav-link">Home</a>
                <a href="experiences.html" class="nav-link">Experiences</a>
                <a href="doubts.html" class="nav-link">Doubts</a>
                <a href="rewards.html" class="nav-link">Rewards</a>
                <a href="resources.html" class="nav-link">Resources</a>
            </div>
            
            <div class="nav-actions">
                <button class="notification-btn active" onclick="toggleNotifications()">
                    <svg width="20" height="20" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M10 2C7.8 2 6 3.8 6 6v4l-2 2v1h12v-1l-2-2V6c0-2.2-1.8-4-4-4zm1 14h-2c0 1.1.9 2 2 2s2-.9 2-2z"/>
                    </svg>
                </button>
                <div class="profile-dropdown">
                    <button class="profile-btn" onclick="toggleProfileMenu()">
                        <div class="avatar">
                            <svg width="24" height="24" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M10 2C6.7 2 4 4.7 4 8c0 3.3 2.7 6 6 6s6-2.7 6-6c0-3.3-2.7-6-6-6zm0 2c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm0 10c-1.7 0-3.2-.9-4.1-2.3.7-1.2 2.2-2 3.1-2h2c.9 0 2.4.8 3.1 2-.9 1.4-2.4 2.3-4.1 2.3z"/>
                            </svg>
                        </div>
                    </button>
                    <div class="dropdown-menu" id="profileMenu">
                        <a href="profile.html">Profile</a>
                        <a href="notifications.html">Notifications</a>
                        <hr>
                        <a href="login.html">Logout</a>
                    </div>
                </div>
                <button class="mobile-menu-btn mobile-only" onclick="toggleMobileMenu()">
                    <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M3 12h18M3 6h18M3 18h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </button>
            </div>
        </div>
        
        <div class="mobile-menu" id="mobileMenu">
            <a href="index.html" class="mobile-link">Home</a>
            <a href="experiences.html" class="mobile-link">Experiences</a>
            <a href="doubts.html" class="mobile-link">Doubts</a>
            <a href="rewards.html" class="mobile-link">Rewards</a>
            <a href="resources.html" class="mobile-link">Resources</a>
        </div>
    </nav>

    <div class="notifications-container">
        <div class="container">
            <div class="notifications-header">
                <h1>Notifications</h1>
                <div class="header-actions">
                    <button class="btn btn-secondary" onclick="markAllAsRead()">Mark all as read</button>
                    <button class="btn btn-secondary" onclick="clearAll()">Clear all</button>
                </div>
            </div>

            <div class="notifications-filters">
                <button class="filter-btn active" onclick="filterNotifications('all')">All</button>
                <button class="filter-btn" onclick="filterNotifications('unread')">Unread</button>
                <button class="filter-btn" onclick="filterNotifications('experiences')">Experiences</button>
                <button class="filter-btn" onclick="filterNotifications('doubts')">Doubts</button>
                <button class="filter-btn" onclick="filterNotifications('rewards')">Rewards</button>
            </div>

            <div class="notifications-list" id="notificationsList">
                <!-- Notifications will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-logo">
                        <svg width="24" height="24" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect width="32" height="32" rx="8" fill="url(#footer-logo-gradient)"/>
                            <path d="M8 12L16 8L24 12L16 16L8 12Z" fill="white"/>
                            <path d="M8 20L16 16L24 20L16 24L8 20Z" fill="white" opacity="0.7"/>
                            <defs>
                                <linearGradient id="footer-logo-gradient" x1="0" y1="0" x2="32" y2="32">
                                    <stop stop-color="#5b61ff"/>
                                    <stop offset="1" stop-color="#6ee0ff"/>
                                </linearGradient>
                            </defs>
                        </svg>
                        <span>XShare</span>
                    </div>
                    <p class="footer-desc">Empowering students to share experiences and succeed together.</p>
                </div>
                <div class="footer-links">
                    <div class="footer-group">
                        <h4>Platform</h4>
                        <a href="experiences.html">Experiences</a>
                        <a href="doubts.html">Q&A</a>
                        <a href="resources.html">Resources</a>
                        <a href="rewards.html">Rewards</a>
                    </div>
                    <div class="footer-group">
                        <h4>Company</h4>
                        <a href="#about">About</a>
                        <a href="#contact">Contact</a>
                        <a href="#careers">Careers</a>
                        <a href="#press">Press</a>
                    </div>
                    <div class="footer-group">
                        <h4>Legal</h4>
                        <a href="#privacy">Privacy Policy</a>
                        <a href="#terms">Terms of Service</a>
                        <a href="#cookies">Cookie Policy</a>
                        <a href="#guidelines">Community Guidelines</a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 XShare. All rights reserved.</p>
                <div class="social-links">
                    <a href="#" class="social-link">
                        <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"/>
                        </svg>
                    </a>
                    <a href="#" class="social-link">
                        <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"/>
                        </svg>
                    </a>
                    <a href="#" class="social-link">
                        <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                        </svg>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        // Sample notifications data
        const notifications = [
            {
                id: 1,
                type: 'experience',
                icon: 'üéØ',
                title: 'Your experience has been approved!',
                description: 'Your Google Software Engineer interview experience is now live and helping fellow students.',
                time: '2 minutes ago',
                isRead: false,
                action: 'View Experience',
                link: 'experience-detail.html'
            },
            {
                id: 2,
                type: 'doubts',
                icon: 'üí°',
                title: 'New answer to your question',
                description: 'Someone answered your question about "System design interview preparation".',
                time: '1 hour ago',
                isRead: false,
                action: 'View Answer',
                link: 'doubts.html'
            },
            {
                id: 3,
                type: 'rewards',
                icon: 'üèÜ',
                title: 'You earned 100 points!',
                description: 'Great job! Your experience received 10 likes and earned you points.',
                time: '3 hours ago',
                isRead: false,
                action: 'View Rewards',
                link: 'rewards.html'
            },
            {
                id: 4,
                type: 'experiences',
                icon: 'üëç',
                title: 'Your post received a like',
                description: 'Priya Sharma liked your Microsoft interview experience.',
                time: '5 hours ago',
                isRead: true,
                action: 'View Post',
                link: 'experience-detail.html'
            },
            {
                id: 5,
                type: 'doubts',
                icon: 'ü§ù',
                title: 'Your answer was marked as helpful',
                description: 'Your answer to "DSA preparation timeline" was marked as helpful by the question author.',
                time: '8 hours ago',
                isRead: true,
                action: 'View Answer',
                link: 'doubts.html'
            },
            {
                id: 6,
                type: 'rewards',
                icon: 'üéÅ',
                title: 'New reward available!',
                description: 'You can now redeem XShare Premium Bottle with your points.',
                time: '1 day ago',
                isRead: true,
                action: 'View Rewards',
                link: 'rewards.html'
            },
            {
                id: 7,
                type: 'experiences',
                icon: 'üí¨',
                title: 'New comment on your experience',
                description: 'Amit Kumar commented on your Amazon SDE interview experience.',
                time: '2 days ago',
                isRead: true,
                action: 'View Comment',
                link: 'experience-detail.html'
            },
            {
                id: 8,
                type: 'doubts',
                icon: 'üì¢',
                title: 'Question reminder',
                description: 'Your question "Best system design resources" hasn\'t been answered yet. Consider adding more details.',
                time: '3 days ago',
                isRead: true,
                action: 'Edit Question',
                link: 'doubts.html'
            }
        ];

        let filteredNotifications = [...notifications];

        function renderNotifications() {
            const notificationsList = document.getElementById('notificationsList');
            
            if (filteredNotifications.length === 0) {
                notificationsList.innerHTML = `
                    <div class="empty-state">
                        <svg width="64" height="64" fill="currentColor" viewBox="0 0 24 24" class="empty-icon">
                            <path d="M12 2C7.8 2 6 3.8 6 6v4l-2 2v1h12v-1l-2-2V6c0-2.2-1.8-4-4-4zm1 14h-2c0 1.1.9 2 2 2s2-.9 2-2z"/>
                        </svg>
                        <h3>No notifications</h3>
                        <p>You're all caught up! Check back later for updates.</p>
                    </div>
                `;
                return;
            }

            notificationsList.innerHTML = filteredNotifications.map(notification => `
                <div class="notification-item ${notification.isRead ? 'read' : 'unread'}" data-id="${notification.id}">
                    <div class="notification-icon">
                        <span class="icon-emoji">${notification.icon}</span>
                    </div>
                    <div class="notification-content">
                        <div class="notification-header">
                            <h3 class="notification-title">${notification.title}</h3>
                            <span class="notification-time">${notification.time}</span>
                        </div>
                        <p class="notification-description">${notification.description}</p>
                        <div class="notification-actions">
                            <a href="${notification.link}" class="notification-action">${notification.action}</a>
                            ${!notification.isRead ? `<button class="notification-action" onclick="markAsRead(${notification.id})">Mark as read</button>` : ''}
                        </div>
                    </div>
                    <div class="notification-indicator">
                        ${!notification.isRead ? '<div class="unread-dot"></div>' : ''}
                    </div>
                </div>
            `).join('');
        }

        function filterNotifications(type) {
            // Update active filter button
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            switch(type) {
                case 'unread':
                    filteredNotifications = notifications.filter(n => !n.isRead);
                    break;
                case 'experiences':
                    filteredNotifications = notifications.filter(n => n.type === 'experiences' || n.type === 'experience');
                    break;
                case 'doubts':
                    filteredNotifications = notifications.filter(n => n.type === 'doubts');
                    break;
                case 'rewards':
                    filteredNotifications = notifications.filter(n => n.type === 'rewards');
                    break;
                default:
                    filteredNotifications = [...notifications];
            }
            
            renderNotifications();
        }

        function markAsRead(notificationId) {
            const notification = notifications.find(n => n.id === notificationId);
            if (notification) {
                notification.isRead = true;
                renderNotifications();
                showToast('Notification marked as read', 'success');
            }
        }

        function markAllAsRead() {
            notifications.forEach(notification => {
                notification.isRead = true;
            });
            renderNotifications();
            showToast('All notifications marked as read', 'success');
        }

        function clearAll() {
            const confirmClear = confirm('Are you sure you want to clear all notifications? This action cannot be undone.');
            if (confirmClear) {
                notifications.length = 0;
                filteredNotifications = [];
                renderNotifications();
                showToast('All notifications cleared', 'success');
            }
        }

        function showToast(message, type) {
            const toast = document.createElement('div');
            toast.className = `toast toast-${type}`;
            toast.textContent = message;
            document.body.appendChild(toast);
            setTimeout(() => toast.remove(), 3000);
        }

        // Initialize
        renderNotifications();
        
        // Update unread count in navbar (if notification dot exists)
        const unreadCount = notifications.filter(n => !n.isRead).length;
        const notificationDot = document.querySelector('.notification-dot');
        if (notificationDot && unreadCount === 0) {
            notificationDot.style.display = 'none';
        }
    </script>
</body>
</html>