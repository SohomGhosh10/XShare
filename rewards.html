<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rewards & Leaderboard - XShare</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="assets/favicon.svg" type="image/svg+xml">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect width="32" height="32" rx="8" fill="url(#logo-gradient)"/>
                    <path d="M8 12L16 8L24 12L16 16L8 12Z" fill="white"/>
                    <path d="M8 20L16 16L24 20L16 24L8 20Z" fill="white" opacity="0.7"/>
                    <defs>
                        <linearGradient id="logo-gradient" x1="0" y1="0" x2="32" y2="32">
                            <stop stop-color="#5b61ff"/>
                            <stop offset="1" stop-color="#6ee0ff"/>
                        </linearGradient>
                    </defs>
                </svg>
                <span class="logo-text">XShare</span>
            </div>
            
            <div class="nav-links desktop-only">
                <a href="index.html" class="nav-link">Home</a>
                <a href="experiences.html" class="nav-link">Experiences</a>
                <a href="doubts.html" class="nav-link">Doubts</a>
                <a href="rewards.html" class="nav-link active">Rewards</a>
                <a href="resources.html" class="nav-link">Resources</a>
            </div>
            
            <div class="nav-actions">
                <button class="notification-btn" onclick="toggleNotifications()">
                    <svg width="20" height="20" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M10 2C7.8 2 6 3.8 6 6v4l-2 2v1h12v-1l-2-2V6c0-2.2-1.8-4-4-4zm1 14h-2c0 1.1.9 2 2 2s2-.9 2-2z"/>
                    </svg>
                    <span class="notification-dot"></span>
                </button>
                <div class="profile-dropdown">
                    <button class="profile-btn" onclick="toggleProfileMenu()">
                        <div class="avatar">
                            <svg width="24" height="24" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M10 2C6.7 2 4 4.7 4 8c0 3.3 2.7 6 6 6s6-2.7 6-6c0-3.3-2.7-6-6-6zm0 2c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm0 10c-1.7 0-3.2-.9-4.1-2.3.7-1.2 2.2-2 3.1-2h2c.9 0 2.4.8 3.1 2-.9 1.4-2.4 2.3-4.1 2.3z"/>
                            </svg>
                        </div>
                    </button>
                    <div class="dropdown-menu" id="profileMenu">
                        <a href="profile.html">Profile</a>
                        <a href="notifications.html">Notifications</a>
                        <hr>
                        <a href="login.html">Logout</a>
                    </div>
                </div>
                <button class="mobile-menu-btn mobile-only" onclick="toggleMobileMenu()">
                    <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M3 12h18M3 6h18M3 18h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </button>
            </div>
        </div>
        
        <div class="mobile-menu" id="mobileMenu">
            <a href="index.html" class="mobile-link">Home</a>
            <a href="experiences.html" class="mobile-link">Experiences</a>
            <a href="doubts.html" class="mobile-link">Doubts</a>
            <a href="rewards.html" class="mobile-link">Rewards</a>
            <a href="resources.html" class="mobile-link">Resources</a>
        </div>
    </nav>

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <div class="header-content">
                <h1>Rewards & Leaderboard</h1>
                <p>Earn points by contributing to the community and redeem amazing rewards</p>
            </div>
        </div>
    </section>

    <div class="rewards-container">
        <div class="container">
            <!-- Your Points Section -->
            <div class="points-summary">
                <div class="points-card">
                    <div class="points-header">
                        <div class="points-info">
                            <h2>Your Points</h2>
                            <div class="current-points">1,250</div>
                            <div class="points-label">XShare Points</div>
                        </div>
                        <div class="level-info">
                            <div class="level-badge">Level 5</div>
                            <div class="level-title">Community Contributor</div>
                        </div>
                    </div>
                    
                    <div class="progress-section">
                        <div class="progress-info">
                            <span>Progress to next level</span>
                            <span>1,250 / 1,500 XP</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 83.3%"></div>
                        </div>
                        <div class="progress-hint">250 points to Level 6</div>
                    </div>

                    <div class="points-breakdown">
                        <h3>How you earn points:</h3>
                        <div class="earning-methods">
                            <div class="earning-item">
                                <span class="earning-icon">üìù</span>
                                <span class="earning-text">Share experience</span>
                                <span class="earning-points">+100 pts</span>
                            </div>
                            <div class="earning-item">
                                <span class="earning-icon">‚ù§Ô∏è</span>
                                <span class="earning-text">Get likes on posts</span>
                                <span class="earning-points">+5 pts</span>
                            </div>
                            <div class="earning-item">
                                <span class="earning-icon">üí°</span>
                                <span class="earning-text">Answer questions</span>
                                <span class="earning-points">+25 pts</span>
                            </div>
                            <div class="earning-item">
                                <span class="earning-icon">üèÜ</span>
                                <span class="earning-text">Daily login streak</span>
                                <span class="earning-points">+10 pts</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="rewards-layout">
                <!-- Rewards Catalog -->
                <div class="rewards-section">
                    <div class="section-header">
                        <h2>Redeem Rewards</h2>
                        <div class="rewards-filters">
                            <button class="filter-btn active" onclick="filterRewards('all')">All</button>
                            <button class="filter-btn" onclick="filterRewards('available')">Available</button>
                            <button class="filter-btn" onclick="filterRewards('claimed')">Claimed</button>
                        </div>
                    </div>

                    <div class="rewards-grid" id="rewardsGrid">
                        <!-- Rewards will be populated by JavaScript -->
                    </div>
                </div>

                <!-- Leaderboard -->
                <div class="leaderboard-section">
                    <div class="section-header">
                        <h2>Leaderboard</h2>
                        <div class="leaderboard-period">
                            <button class="period-btn active" onclick="switchPeriod('all-time')">All Time</button>
                            <button class="period-btn" onclick="switchPeriod('monthly')">This Month</button>
                            <button class="period-btn" onclick="switchPeriod('weekly')">This Week</button>
                        </div>
                    </div>

                    <!-- Top 3 Podium -->
                    <div class="podium">
                        <div class="podium-item second">
                            <div class="avatar">
                                <img src="assets/images/avatar2.svg" alt="Priya Singh">
                            </div>
                            <div class="rank-badge">2</div>
                            <div class="user-name">Priya Singh</div>
                            <div class="user-points">2,100 pts</div>
                        </div>
                        <div class="podium-item first">
                            <div class="avatar">
                                <img src="assets/images/avatar1.svg" alt="Rahul Sharma">
                            </div>
                            <div class="rank-badge">1</div>
                            <div class="user-name">Rahul Sharma</div>
                            <div class="user-points">2,450 pts</div>
                            <div class="crown">üëë</div>
                        </div>
                        <div class="podium-item third">
                            <div class="avatar">
                                <img src="assets/images/avatar3.svg" alt="Amit Kumar">
                            </div>
                            <div class="rank-badge">3</div>
                            <div class="user-name">Amit Kumar</div>
                            <div class="user-points">1,890 pts</div>
                        </div>
                    </div>

                    <!-- Full Leaderboard -->
                    <div class="leaderboard-list" id="leaderboardList">
                        <!-- Leaderboard items will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-logo">
                        <svg width="24" height="24" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect width="32" height="32" rx="8" fill="url(#footer-logo-gradient)"/>
                            <path d="M8 12L16 8L24 12L16 16L8 12Z" fill="white"/>
                            <path d="M8 20L16 16L24 20L16 24L8 20Z" fill="white" opacity="0.7"/>
                            <defs>
                                <linearGradient id="footer-logo-gradient" x1="0" y1="0" x2="32" y2="32">
                                    <stop stop-color="#5b61ff"/>
                                    <stop offset="1" stop-color="#6ee0ff"/>
                                </linearGradient>
                            </defs>
                        </svg>
                        <span>XShare</span>
                    </div>
                    <p class="footer-desc">Empowering students to share experiences and succeed together.</p>
                </div>
                <div class="footer-links">
                    <div class="footer-group">
                        <h4>Platform</h4>
                        <a href="experiences.html">Experiences</a>
                        <a href="doubts.html">Q&A</a>
                        <a href="resources.html">Resources</a>
                        <a href="rewards.html">Rewards</a>
                    </div>
                    <div class="footer-group">
                        <h4>Company</h4>
                        <a href="#about">About</a>
                        <a href="#contact">Contact</a>
                        <a href="#careers">Careers</a>
                        <a href="#press">Press</a>
                    </div>
                    <div class="footer-group">
                        <h4>Legal</h4>
                        <a href="#privacy">Privacy Policy</a>
                        <a href="#terms">Terms of Service</a>
                        <a href="#cookies">Cookie Policy</a>
                        <a href="#guidelines">Community Guidelines</a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 XShare. All rights reserved.</p>
                <div class="social-links">
                    <a href="#" class="social-link">
                        <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"/>
                        </svg>
                    </a>
                    <a href="#" class="social-link">
                        <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"/>
                        </svg>
                    </a>
                    <a href="#" class="social-link">
                        <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                        </svg>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        // Sample rewards data
        const rewards = [
            {
                id: 1,
                title: 'XShare Water Bottle',
                description: 'Premium stainless steel bottle with XShare logo',
                points: 500,
                image: 'assets/images/reward-bottle.svg',
                available: true,
                stock: 25,
                category: 'merchandise'
            },
            {
                id: 2,
                title: 'Wireless Headphones',
                description: 'Noise-cancelling Bluetooth headphones',
                points: 1000,
                image: 'assets/images/reward-headphones.svg',
                available: true,
                stock: 10,
                category: 'electronics'
            },
            {
                id: 3,
                title: 'XShare Premium Bag',
                description: 'High-quality laptop backpack with XShare branding',
                points: 1500,
                image: 'assets/images/reward-bag.svg',
                available: false, // User doesn't have enough points
                stock: 8,
                category: 'merchandise'
            },
            {
                id: 4,
                title: 'Tech Conference Ticket',
                description: 'Free entry to annual tech conference',
                points: 2000,
                image: 'assets/images/reward-ticket.svg',
                available: false,
                stock: 5,
                category: 'events'
            },
            {
                id: 5,
                title: 'XShare Sticker Pack',
                description: 'Collection of XShare stickers and decals',
                points: 200,
                image: 'assets/images/reward-stickers.svg',
                available: true,
                stock: 50,
                category: 'merchandise'
            },
            {
                id: 6,
                title: 'Online Course Access',
                description: '3-month access to premium coding courses',
                points: 800,
                image: 'assets/images/reward-course.svg',
                available: true,
                stock: 15,
                category: 'education'
            }
        ];

        // Sample leaderboard data
        const leaderboard = [
            { rank: 1, name: 'Rahul Sharma', points: 2450, avatar: 'assets/images/avatar1.svg', badge: 'Top Contributor' },
            { rank: 2, name: 'Priya Singh', points: 2100, avatar: 'assets/images/avatar2.svg', badge: 'Active Helper' },
            { rank: 3, name: 'Amit Kumar', points: 1890, avatar: 'assets/images/avatar3.svg', badge: 'Community Star' },
            { rank: 4, name: 'Sneha Patel', points: 1650, avatar: 'assets/images/avatar4.svg', badge: 'Rising Star', isCurrentUser: true },
            { rank: 5, name: 'Arjun Gupta', points: 1420, avatar: 'assets/images/avatar5.svg' },
            { rank: 6, name: 'Karan Shah', points: 1250, avatar: 'assets/images/avatar6.svg' },
            { rank: 7, name: 'Riya Jain', points: 1180, avatar: 'assets/images/avatar7.svg' },
            { rank: 8, name: 'Vikram Singh', points: 1050, avatar: 'assets/images/avatar8.svg' },
            { rank: 9, name: 'Divya Sharma', points: 950, avatar: 'assets/images/avatar1.svg' },
            { rank: 10, name: 'Rohit Jain', points: 870, avatar: 'assets/images/avatar2.svg' },
            { rank: 11, name: 'Ananya Gupta', points: 820, avatar: 'assets/images/avatar3.svg' },
            { rank: 12, name: 'Siddharth Kumar', points: 780, avatar: 'assets/images/avatar4.svg' },
            { rank: 13, name: 'Meera Patel', points: 750, avatar: 'assets/images/avatar5.svg' },
            { rank: 14, name: 'Aditya Shah', points: 720, avatar: 'assets/images/avatar6.svg' },
            { rank: 15, name: 'Kavya Singh', points: 690, avatar: 'assets/images/avatar7.svg' }
        ];

        let filteredRewards = [...rewards];

        function renderRewards() {
            const rewardsGrid = document.getElementById('rewardsGrid');
            rewardsGrid.innerHTML = filteredRewards.map(reward => `
                <div class="reward-card ${!reward.available ? 'disabled' : ''}">
                    <div class="reward-image">
                        <img src="${reward.image}" alt="${reward.title}">
                        ${reward.stock <= 5 ? '<div class="stock-badge">Limited Stock</div>' : ''}
                    </div>
                    <div class="reward-content">
                        <h3 class="reward-title">${reward.title}</h3>
                        <p class="reward-description">${reward.description}</p>
                        <div class="reward-footer">
                            <div class="reward-points">
                                <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                </svg>
                                ${reward.points} pts
                            </div>
                            <div class="reward-stock">${reward.stock} left</div>
                        </div>
                        <button class="reward-btn ${reward.available ? 'btn-primary' : 'btn-disabled'}" 
                                onclick="redeemReward(${reward.id})" 
                                ${!reward.available ? 'disabled' : ''}>
                            ${reward.available ? 'Redeem' : 'Not Enough Points'}
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function renderLeaderboard() {
            const leaderboardList = document.getElementById('leaderboardList');
            // Start from rank 4 since top 3 are shown in podium
            const leaderboardItems = leaderboard.slice(3);
            
            leaderboardList.innerHTML = leaderboardItems.map(user => `
                <div class="leaderboard-item ${user.isCurrentUser ? 'current-user' : ''}">
                    <div class="rank">${user.rank}</div>
                    <div class="user-info">
                        <div class="avatar small">
                            <img src="${user.avatar}" alt="${user.name}">
                        </div>
                        <div class="user-details">
                            <div class="user-name">
                                ${user.name}
                                ${user.isCurrentUser ? '<span class="you-badge">You</span>' : ''}
                            </div>
                            ${user.badge ? `<div class="user-badge">${user.badge}</div>` : ''}
                        </div>
                    </div>
                    <div class="user-points">${user.points.toLocaleString()} pts</div>
                </div>
            `).join('');
        }

        function filterRewards(filter) {
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            switch(filter) {
                case 'available':
                    filteredRewards = rewards.filter(r => r.available);
                    break;
                case 'claimed':
                    // In a real app, this would show previously claimed rewards
                    filteredRewards = [];
                    break;
                default:
                    filteredRewards = [...rewards];
            }
            renderRewards();
        }

        function switchPeriod(period) {
            document.querySelectorAll('.period-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            // In a real app, this would fetch different leaderboard data based on period
            renderLeaderboard();
        }

        function redeemReward(rewardId) {
            const reward = rewards.find(r => r.id === rewardId);
            if (!reward || !reward.available) return;
            
            const confirmRedeem = confirm(`Are you sure you want to redeem "${reward.title}" for ${reward.points} points?`);
            if (confirmRedeem) {
                // TODO: Process reward redemption on backend
                showToast(`${reward.title} redeemed successfully!`, 'success');
                
                // Update UI (in real app, this would be handled by backend response)
                reward.stock--;
                if (reward.stock === 0) {
                    reward.available = false;
                }
                renderRewards();
            }
        }

        function showToast(message, type) {
            const toast = document.createElement('div');
            toast.className = `toast toast-${type}`;
            toast.textContent = message;
            document.body.appendChild(toast);
            setTimeout(() => toast.remove(), 3000);
        }

        // Initialize
        renderRewards();
        renderLeaderboard();
    </script>
</body>
</html>