<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Doubts & Questions - XShare</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="assets/favicon.svg" type="image/svg+xml">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect width="32" height="32" rx="8" fill="url(#logo-gradient)"/>
                    <path d="M8 12L16 8L24 12L16 16L8 12Z" fill="white"/>
                    <path d="M8 20L16 16L24 20L16 24L8 20Z" fill="white" opacity="0.7"/>
                    <defs>
                        <linearGradient id="logo-gradient" x1="0" y1="0" x2="32" y2="32">
                            <stop stop-color="#5b61ff"/>
                            <stop offset="1" stop-color="#6ee0ff"/>
                        </linearGradient>
                    </defs>
                </svg>
                <span class="logo-text">XShare</span>
            </div>
            
            <div class="nav-links desktop-only">
                <a href="index.html" class="nav-link">Home</a>
                <a href="experiences.html" class="nav-link">Experiences</a>
                <a href="doubts.html" class="nav-link active">Doubts</a>
                <a href="rewards.html" class="nav-link">Rewards</a>
                <a href="resources.html" class="nav-link">Resources</a>
            </div>
            
            <div class="nav-actions">
                <button class="notification-btn" onclick="toggleNotifications()">
                    <svg width="20" height="20" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M10 2C7.8 2 6 3.8 6 6v4l-2 2v1h12v-1l-2-2V6c0-2.2-1.8-4-4-4zm1 14h-2c0 1.1.9 2 2 2s2-.9 2-2z"/>
                    </svg>
                    <span class="notification-dot"></span>
                </button>
                <div class="profile-dropdown">
                    <button class="profile-btn" onclick="toggleProfileMenu()">
                        <div class="avatar">
                            <svg width="24" height="24" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M10 2C6.7 2 4 4.7 4 8c0 3.3 2.7 6 6 6s6-2.7 6-6c0-3.3-2.7-6-6-6zm0 2c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm0 10c-1.7 0-3.2-.9-4.1-2.3.7-1.2 2.2-2 3.1-2h2c.9 0 2.4.8 3.1 2-.9 1.4-2.4 2.3-4.1 2.3z"/>
                            </svg>
                        </div>
                    </button>
                    <div class="dropdown-menu" id="profileMenu">
                        <a href="profile.html">Profile</a>
                        <a href="notifications.html">Notifications</a>
                        <hr>
                        <a href="login.html">Logout</a>
                    </div>
                </div>
                <button class="mobile-menu-btn mobile-only" onclick="toggleMobileMenu()">
                    <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M3 12h18M3 6h18M3 18h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </button>
            </div>
        </div>
        
        <div class="mobile-menu" id="mobileMenu">
            <a href="index.html" class="mobile-link">Home</a>
            <a href="experiences.html" class="mobile-link">Experiences</a>
            <a href="doubts.html" class="mobile-link">Doubts</a>
            <a href="rewards.html" class="mobile-link">Rewards</a>
            <a href="resources.html" class="mobile-link">Resources</a>
        </div>
    </nav>

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <div class="header-content">
                <h1>Questions & Doubts</h1>
                <p>Ask questions, get answers, and help fellow students succeed</p>
            </div>
        </div>
    </section>

    <div class="doubts-container">
        <div class="container">
            <div class="doubts-layout">
                <!-- Main Content -->
                <div class="main-content">
                    <!-- Ask Question Form -->
                    <div class="question-composer">
                        <h2>Ask a Question</h2>
                        <form class="question-form" onsubmit="submitQuestion(event)">
                            <div class="form-group">
                                <input type="text" id="questionTitle" placeholder="What's your question?" required>
                            </div>
                            <div class="form-group">
                                <textarea id="questionDescription" rows="4" placeholder="Provide more details about your question..." required></textarea>
                            </div>
                            <div class="form-group">
                                <div class="tags-input">
                                    <input type="text" id="tagInput" placeholder="Add tags (press Enter)">
                                    <div class="selected-tags" id="selectedTags"></div>
                                </div>
                                <div class="suggested-tags">
                                    <span class="suggested-tag" onclick="addTag('DSA')">DSA</span>
                                    <span class="suggested-tag" onclick="addTag('System Design')">System Design</span>
                                    <span class="suggested-tag" onclick="addTag('Interview')">Interview</span>
                                    <span class="suggested-tag" onclick="addTag('Resume')">Resume</span>
                                    <span class="suggested-tag" onclick="addTag('Internship')">Internship</span>
                                    <span class="suggested-tag" onclick="addTag('Full-time')">Full-time</span>
                                </div>
                            </div>
                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary">Post Question</button>
                            </div>
                        </form>
                    </div>

                    <!-- Questions Feed -->
                    <div class="questions-feed">
                        <div class="feed-header">
                            <h2>Recent Questions</h2>
                            <div class="feed-filters">
                                <button class="filter-btn active" onclick="filterQuestions('all')">All</button>
                                <button class="filter-btn" onclick="filterQuestions('pending')">Pending</button>
                                <button class="filter-btn" onclick="filterQuestions('answered')">Answered</button>
                                <button class="filter-btn" onclick="filterQuestions('trending')">Trending</button>
                            </div>
                        </div>

                        <div class="questions-list" id="questionsList">
                            <!-- Question items will be populated by JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- Sidebar -->
                <div class="sidebar">
                    <!-- Tag Filter -->
                    <div class="widget">
                        <div class="widget-header">
                            <h3>Filter by Tags</h3>
                        </div>
                        <div class="tag-filters">
                            <button class="tag-filter active" onclick="filterByTag('all')">All</button>
                            <button class="tag-filter" onclick="filterByTag('DSA')">DSA</button>
                            <button class="tag-filter" onclick="filterByTag('System Design')">System Design</button>
                            <button class="tag-filter" onclick="filterByTag('Interview')">Interview</button>
                            <button class="tag-filter" onclick="filterByTag('Resume')">Resume</button>
                            <button class="tag-filter" onclick="filterByTag('Internship')">Internship</button>
                            <button class="tag-filter" onclick="filterByTag('Full-time')">Full-time</button>
                            <button class="tag-filter" onclick="filterByTag('Behavioral')">Behavioral</button>
                            <button class="tag-filter" onclick="filterByTag('Preparation')">Preparation</button>
                        </div>
                    </div>

                    <!-- Top Contributors -->
                    <div class="widget">
                        <div class="widget-header">
                            <h3>Top Contributors</h3>
                        </div>
                        <div class="contributors-list">
                            <div class="contributor-item">
                                <div class="avatar small">
                                    <img src="assets/images/avatar1.svg" alt="User">
                                </div>
                                <div class="contributor-info">
                                    <div class="name">Priya Sharma</div>
                                    <div class="contributions">28 answers â€¢ 156 pts</div>
                                </div>
                            </div>
                            <div class="contributor-item">
                                <div class="avatar small">
                                    <img src="assets/images/avatar2.svg" alt="User">
                                </div>
                                <div class="contributor-info">
                                    <div class="name">Amit Kumar</div>
                                    <div class="contributions">22 answers â€¢ 134 pts</div>
                                </div>
                            </div>
                            <div class="contributor-item">
                                <div class="avatar small">
                                    <img src="assets/images/avatar3.svg" alt="User">
                                </div>
                                <div class="contributor-info">
                                    <div class="name">Riya Patel</div>
                                    <div class="contributions">19 answers â€¢ 118 pts</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Stats -->
                    <div class="widget">
                        <div class="widget-header">
                            <h3>Community Stats</h3>
                        </div>
                        <div class="stats-grid">
                            <div class="stat-item">
                                <div class="stat-number">1,248</div>
                                <div class="stat-label">Total Questions</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number">892</div>
                                <div class="stat-label">Answered</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number">356</div>
                                <div class="stat-label">Pending</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number">95%</div>
                                <div class="stat-label">Response Rate</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-logo">
                        <svg width="24" height="24" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect width="32" height="32" rx="8" fill="url(#footer-logo-gradient)"/>
                            <path d="M8 12L16 8L24 12L16 16L8 12Z" fill="white"/>
                            <path d="M8 20L16 16L24 20L16 24L8 20Z" fill="white" opacity="0.7"/>
                            <defs>
                                <linearGradient id="footer-logo-gradient" x1="0" y1="0" x2="32" y2="32">
                                    <stop stop-color="#5b61ff"/>
                                    <stop offset="1" stop-color="#6ee0ff"/>
                                </linearGradient>
                            </defs>
                        </svg>
                        <span>XShare</span>
                    </div>
                    <p class="footer-desc">Empowering students to share experiences and succeed together.</p>
                </div>
                <div class="footer-links">
                    <div class="footer-group">
                        <h4>Platform</h4>
                        <a href="experiences.html">Experiences</a>
                        <a href="doubts.html">Q&A</a>
                        <a href="resources.html">Resources</a>
                        <a href="rewards.html">Rewards</a>
                    </div>
                    <div class="footer-group">
                        <h4>Company</h4>
                        <a href="#about">About</a>
                        <a href="#contact">Contact</a>
                        <a href="#careers">Careers</a>
                        <a href="#press">Press</a>
                    </div>
                    <div class="footer-group">
                        <h4>Legal</h4>
                        <a href="#privacy">Privacy Policy</a>
                        <a href="#terms">Terms of Service</a>
                        <a href="#cookies">Cookie Policy</a>
                        <a href="#guidelines">Community Guidelines</a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 XShare. All rights reserved.</p>
                <div class="social-links">
                    <a href="#" class="social-link">
                        <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"/>
                        </svg>
                    </a>
                    <a href="#" class="social-link">
                        <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"/>
                        </svg>
                    </a>
                    <a href="#" class="social-link">
                        <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                        </svg>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        // Sample questions data
        const questions = [
            {
                id: 1,
                title: "How to approach system design interviews for entry-level positions?",
                description: "I'm a final year student preparing for campus placements. Most companies are asking system design questions even for entry-level positions. What should be my approach?",
                author: "Arjun Gupta",
                avatar: "assets/images/avatar4.svg",
                time: "2 hours ago",
                tags: ["System Design", "Interview", "Entry-level"],
                upvotes: 12,
                answers: 3,
                status: "answered",
                trending: true
            },
            {
                id: 2,
                title: "Best resources for DSA preparation in 3 months?",
                description: "I have my placements starting in 3 months. Can someone suggest the best resources and timeline for DSA preparation? Currently, I know basic programming.",
                author: "Sneha Patel",
                avatar: "assets/images/avatar5.svg",
                time: "4 hours ago",
                tags: ["DSA", "Preparation", "Timeline"],
                upvotes: 8,
                answers: 5,
                status: "answered",
                trending: false
            },
            {
                id: 3,
                title: "Should I mention failed startup experience on resume?",
                description: "I started a small tech startup with friends during college but it didn't work out. Should I mention this experience on my resume for corporate job applications?",
                author: "Karan Shah",
                avatar: "assets/images/avatar6.svg",
                time: "6 hours ago",
                tags: ["Resume", "Startup", "Experience"],
                upvotes: 15,
                answers: 2,
                status: "answered",
                trending: true
            },
            {
                id: 4,
                title: "Google internship vs Microsoft full-time - which to choose?",
                description: "I'm in a fortunate position to choose between Google summer internship and Microsoft full-time offer. Both are for software engineering roles. Need advice!",
                author: "Riya Jain",
                avatar: "assets/images/avatar7.svg",
                time: "8 hours ago",
                tags: ["Internship", "Full-time", "Career Choice"],
                upvotes: 24,
                answers: 8,
                status: "answered",
                trending: true
            },
            {
                id: 5,
                title: "How important are competitive programming ratings for FAANG?",
                description: "I see many people with high CodeChef/Codeforces ratings getting into top companies. Is competitive programming essential for FAANG companies?",
                author: "Vikram Singh",
                avatar: "assets/images/avatar8.svg",
                time: "12 hours ago",
                tags: ["Competitive Programming", "FAANG", "Ratings"],
                upvotes: 6,
                answers: 0,
                status: "pending",
                trending: false
            },
            {
                id: 6,
                title: "Behavioral interview preparation - any good frameworks?",
                description: "I struggle with behavioral interview questions. Are there any frameworks like STAR method that can help structure my answers better?",
                author: "Divya Sharma",
                avatar: "assets/images/avatar1.svg",
                time: "1 day ago",
                tags: ["Behavioral", "Interview", "Preparation"],
                upvotes: 10,
                answers: 4,
                status: "answered",
                trending: false
            }
        ];

        let filteredQuestions = [...questions];
        let selectedTags = [];

        function renderQuestions() {
            const questionsList = document.getElementById('questionsList');
            questionsList.innerHTML = filteredQuestions.map(question => `
                <div class="question-item" data-id="${question.id}">
                    <div class="question-header">
                        <div class="question-info">
                            <h3 class="question-title">${question.title}</h3>
                            <p class="question-description">${question.description}</p>
                            <div class="question-tags">
                                ${question.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                            </div>
                        </div>
                        <div class="question-status">
                            <span class="status-badge ${question.status}">${question.status.charAt(0).toUpperCase() + question.status.slice(1)}</span>
                            ${question.trending ? '<span class="trending-badge">ðŸ”¥ Trending</span>' : ''}
                        </div>
                    </div>
                    
                    <div class="question-footer">
                        <div class="author-info">
                            <div class="avatar small">
                                <img src="${question.avatar}" alt="${question.author}">
                            </div>
                            <div class="author-details">
                                <div class="author-name">${question.author}</div>
                                <div class="post-time">${question.time}</div>
                            </div>
                        </div>
                        <div class="question-stats">
                            <button class="stat-btn" onclick="toggleUpvote(${question.id})">
                                <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8-8-8z"/>
                                </svg>
                                <span>${question.upvotes}</span>
                            </button>
                            <div class="stat-item">
                                <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M21.99 4c0-1.1-.89-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18z"/>
                                </svg>
                                <span>${question.answers} answers</span>
                            </div>
                        </div>
                    </div>
                    
                    ${question.answers > 0 ? `
                    <div class="question-answers" style="display: none;">
                        <div class="answer-item">
                            <div class="answer-content">
                                <p>Sample answer content would go here...</p>
                                <div class="answer-author">
                                    <div class="avatar small">
                                        <img src="assets/images/avatar2.svg" alt="Answerer">
                                    </div>
                                    <span>Answered by Expert User</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    ` : ''}
                    
                    <div class="question-actions">
                        <button class="action-btn" onclick="toggleAnswers(${question.id})">
                            ${question.answers > 0 ? 'View Answers' : 'Be the first to answer'}
                        </button>
                        <button class="action-btn" onclick="answerQuestion(${question.id})">Answer</button>
                    </div>
                </div>
            `).join('');
        }

        function submitQuestion(event) {
            event.preventDefault();
            const title = document.getElementById('questionTitle').value;
            const description = document.getElementById('questionDescription').value;
            
            if (!title || !description) {
                showToast('Please fill all required fields', 'error');
                return;
            }
            
            // TODO: Submit question to backend
            showToast('Question posted successfully!', 'success');
            
            // Clear form
            document.getElementById('questionTitle').value = '';
            document.getElementById('questionDescription').value = '';
            selectedTags = [];
            document.getElementById('selectedTags').innerHTML = '';
        }

        function addTag(tagText) {
            if (!selectedTags.includes(tagText)) {
                selectedTags.push(tagText);
                updateTagsDisplay();
            }
        }

        function removeTag(tagText) {
            selectedTags = selectedTags.filter(tag => tag !== tagText);
            updateTagsDisplay();
        }

        function updateTagsDisplay() {
            const container = document.getElementById('selectedTags');
            container.innerHTML = selectedTags.map(tag => `
                <span class="selected-tag">
                    ${tag}
                    <button onclick="removeTag('${tag}')">Ã—</button>
                </span>
            `).join('');
        }

        function filterQuestions(filter) {
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            switch(filter) {
                case 'pending':
                    filteredQuestions = questions.filter(q => q.status === 'pending');
                    break;
                case 'answered':
                    filteredQuestions = questions.filter(q => q.status === 'answered');
                    break;
                case 'trending':
                    filteredQuestions = questions.filter(q => q.trending);
                    break;
                default:
                    filteredQuestions = [...questions];
            }
            renderQuestions();
        }

        function filterByTag(tag) {
            document.querySelectorAll('.tag-filter').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            if (tag === 'all') {
                filteredQuestions = [...questions];
            } else {
                filteredQuestions = questions.filter(q => q.tags.includes(tag));
            }
            renderQuestions();
        }

        function toggleUpvote(questionId) {
            // TODO: Toggle upvote on backend
            showToast('Vote recorded!', 'success');
        }

        function toggleAnswers(questionId) {
            const questionItem = document.querySelector(`[data-id="${questionId}"]`);
            const answersDiv = questionItem.querySelector('.question-answers');
            if (answersDiv) {
                answersDiv.style.display = answersDiv.style.display === 'none' ? 'block' : 'none';
            }
        }

        function answerQuestion(questionId) {
            // TODO: Open answer composer
            showToast('Answer feature coming soon!', 'info');
        }

        // Tag input functionality
        document.getElementById('tagInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                const tagText = this.value.trim();
                if (tagText) {
                    addTag(tagText);
                    this.value = '';
                }
            }
        });

        function showToast(message, type) {
            const toast = document.createElement('div');
            toast.className = `toast toast-${type}`;
            toast.textContent = message;
            document.body.appendChild(toast);
            setTimeout(() => toast.remove(), 3000);
        }

        // Initialize
        renderQuestions();
    </script>
</body>
</html>