<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Academic Staff Moderation - XShare</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="assets/favicon.svg" type="image/svg+xml">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect width="32" height="32" rx="8" fill="url(#logo-gradient)"/>
                    <path d="M8 12L16 8L24 12L16 16L8 12Z" fill="white"/>
                    <path d="M8 20L16 16L24 20L16 24L8 20Z" fill="white" opacity="0.7"/>
                    <defs>
                        <linearGradient id="logo-gradient" x1="0" y1="0" x2="32" y2="32">
                            <stop stop-color="#5b61ff"/>
                            <stop offset="1" stop-color="#6ee0ff"/>
                        </linearGradient>
                    </defs>
                </svg>
                <span class="logo-text">XShare</span>
            </div>
            
            <div class="nav-links desktop-only">
                <a href="admin.html" class="nav-link active">Moderation</a>
                <a href="experiences.html" class="nav-link">Experiences</a>
                <a href="doubts.html" class="nav-link">Doubts</a>
                <a href="resources.html" class="nav-link">Resources</a>
            </div>
            
            <div class="nav-actions">
                <button class="notification-btn" onclick="toggleNotifications()">
                    <svg width="20" height="20" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M10 2C7.8 2 6 3.8 6 6v4l-2 2v1h12v-1l-2-2V6c0-2.2-1.8-4-4-4zm1 14h-2c0 1.1.9 2 2 2s2-.9 2-2z"/>
                    </svg>
                    <span class="notification-dot"></span>
                </button>
                <div class="profile-dropdown">
                    <button class="profile-btn" onclick="toggleProfileMenu()">
                        <div class="avatar">
                            <svg width="24" height="24" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M10 2C6.7 2 4 4.7 4 8c0 3.3 2.7 6 6 6s6-2.7 6-6c0-3.3-2.7-6-6-6zm0 2c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm0 10c-1.7 0-3.2-.9-4.1-2.3.7-1.2 2.2-2 3.1-2h2c.9 0 2.4.8 3.1 2-.9 1.4-2.4 2.3-4.1 2.3z"/>
                            </svg>
                        </div>
                    </button>
                    <div class="dropdown-menu" id="profileMenu">
                        <a href="profile.html">Profile</a>
                        <a href="notifications.html">Notifications</a>
                        <hr>
                        <a href="login.html">Logout</a>
                    </div>
                </div>
                <button class="mobile-menu-btn mobile-only" onclick="toggleMobileMenu()">
                    <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M3 12h18M3 6h18M3 18h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </button>
            </div>
        </div>
        
        <div class="mobile-menu" id="mobileMenu">
            <a href="admin.html" class="mobile-link">Moderation</a>
            <a href="experiences.html" class="mobile-link">Experiences</a>
            <a href="doubts.html" class="mobile-link">Doubts</a>
            <a href="resources.html" class="mobile-link">Resources</a>
        </div>
    </nav>

    <div class="admin-container">
        <div class="container">
            <!-- Admin Header -->
            <div class="admin-header">
                <div class="header-content">
                    <h1>Academic Staff Moderation</h1>
                    <p>Review and moderate student-submitted content</p>
                </div>
                <div class="header-stats">
                    <div class="stat-card">
                        <div class="stat-number">12</div>
                        <div class="stat-label">Pending Review</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">45</div>
                        <div class="stat-label">Approved Today</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">3</div>
                        <div class="stat-label">Rejected Today</div>
                    </div>
                </div>
            </div>

            <div class="admin-layout">
                <!-- Filters Sidebar -->
                <div class="admin-sidebar">
                    <div class="filter-section">
                        <h3>Content Type</h3>
                        <div class="filter-group">
                            <label class="filter-option">
                                <input type="radio" name="contentType" value="all" checked onchange="filterContent()">
                                <span>All Content</span>
                            </label>
                            <label class="filter-option">
                                <input type="radio" name="contentType" value="experience" onchange="filterContent()">
                                <span>Experiences</span>
                            </label>
                            <label class="filter-option">
                                <input type="radio" name="contentType" value="doubt" onchange="filterContent()">
                                <span>Questions</span>
                            </label>
                        </div>
                    </div>

                    <div class="filter-section">
                        <h3>Status</h3>
                        <div class="filter-group">
                            <label class="filter-option">
                                <input type="radio" name="status" value="all" onchange="filterContent()">
                                <span>All Status</span>
                            </label>
                            <label class="filter-option">
                                <input type="radio" name="status" value="pending" checked onchange="filterContent()">
                                <span>Pending</span>
                            </label>
                            <label class="filter-option">
                                <input type="radio" name="status" value="approved" onchange="filterContent()">
                                <span>Approved</span>
                            </label>
                            <label class="filter-option">
                                <input type="radio" name="status" value="rejected" onchange="filterContent()">
                                <span>Rejected</span>
                            </label>
                        </div>
                    </div>

                    <div class="filter-section">
                        <h3>Date Range</h3>
                        <div class="filter-group">
                            <label class="filter-option">
                                <input type="radio" name="dateRange" value="today" checked onchange="filterContent()">
                                <span>Today</span>
                            </label>
                            <label class="filter-option">
                                <input type="radio" name="dateRange" value="week" onchange="filterContent()">
                                <span>This Week</span>
                            </label>
                            <label class="filter-option">
                                <input type="radio" name="dateRange" value="month" onchange="filterContent()">
                                <span>This Month</span>
                            </label>
                        </div>
                    </div>

                    <div class="filter-section">
                        <h3>Priority</h3>
                        <div class="filter-group">
                            <label class="filter-option">
                                <input type="checkbox" name="priority" value="flagged" onchange="filterContent()">
                                <span>Flagged Content</span>
                            </label>
                            <label class="filter-option">
                                <input type="checkbox" name="priority" value="reported" onchange="filterContent()">
                                <span>Reported Content</span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Main Content Area -->
                <div class="admin-main">
                    <div class="content-header">
                        <div class="content-title">
                            <h2>Pending Content Review</h2>
                            <span class="content-count" id="contentCount">12 items</span>
                        </div>
                        <div class="content-actions">
                            <button class="btn btn-secondary" onclick="bulkApprove()">Bulk Approve</button>
                            <button class="btn btn-secondary" onclick="exportData()">Export Data</button>
                        </div>
                    </div>

                    <!-- Content List -->
                    <div class="content-list" id="contentList">
                        <!-- Content items will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Moderation Modal -->
    <div class="modal" id="moderationModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Review Content</h3>
                <button class="modal-close" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Modal content will be populated by JavaScript -->
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal()">Cancel</button>
                <button class="btn btn-danger" onclick="rejectContent()">Reject</button>
                <button class="btn btn-primary" onclick="approveContent()">Approve</button>
            </div>
        </div>
    </div>

    <!-- Rejection Reason Modal -->
    <div class="modal" id="rejectionModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Rejection Reason</h3>
                <button class="modal-close" onclick="closeRejectionModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="rejectionReason">Please provide a reason for rejection:</label>
                    <textarea id="rejectionReason" rows="4" placeholder="Explain why this content is being rejected..."></textarea>
                </div>
                <div class="rejection-options">
                    <label class="checkbox-label">
                        <input type="checkbox" id="inappropriateContent">
                        <span class="checkmark"></span>
                        Inappropriate content
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" id="inaccurateInfo">
                        <span class="checkmark"></span>
                        Inaccurate information
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" id="violatesGuidelines">
                        <span class="checkmark"></span>
                        Violates community guidelines
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" id="spam">
                        <span class="checkmark"></span>
                        Spam or promotional content
                    </label>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeRejectionModal()">Cancel</button>
                <button class="btn btn-danger" onclick="confirmRejection()">Confirm Rejection</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-logo">
                        <svg width="24" height="24" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect width="32" height="32" rx="8" fill="url(#footer-logo-gradient)"/>
                            <path d="M8 12L16 8L24 12L16 16L8 12Z" fill="white"/>
                            <path d="M8 20L16 16L24 20L16 24L8 20Z" fill="white" opacity="0.7"/>
                            <defs>
                                <linearGradient id="footer-logo-gradient" x1="0" y1="0" x2="32" y2="32">
                                    <stop stop-color="#5b61ff"/>
                                    <stop offset="1" stop-color="#6ee0ff"/>
                                </linearGradient>
                            </defs>
                        </svg>
                        <span>XShare</span>
                    </div>
                    <p class="footer-desc">Empowering students to share experiences and succeed together.</p>
                </div>
                <div class="footer-links">
                    <div class="footer-group">
                        <h4>Platform</h4>
                        <a href="experiences.html">Experiences</a>
                        <a href="doubts.html">Q&A</a>
                        <a href="resources.html">Resources</a>
                        <a href="rewards.html">Rewards</a>
                    </div>
                    <div class="footer-group">
                        <h4>Company</h4>
                        <a href="#about">About</a>
                        <a href="#contact">Contact</a>
                        <a href="#careers">Careers</a>
                        <a href="#press">Press</a>
                    </div>
                    <div class="footer-group">
                        <h4>Legal</h4>
                        <a href="#privacy">Privacy Policy</a>
                        <a href="#terms">Terms of Service</a>
                        <a href="#cookies">Cookie Policy</a>
                        <a href="#guidelines">Community Guidelines</a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 XShare. All rights reserved.</p>
                <div class="social-links">
                    <a href="#" class="social-link">
                        <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"/>
                        </svg>
                    </a>
                    <a href="#" class="social-link">
                        <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"/>
                        </svg>
                    </a>
                    <a href="#" class="social-link">
                        <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                        </svg>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        // Sample content data for moderation
        const contentItems = [
            {
                id: 1,
                type: 'experience',
                title: 'Google Software Engineer Interview Experience',
                author: 'Rahul Sharma',
                authorEmail: 'rahul.sharma@example.com',
                college: 'IIT Delhi',
                submitDate: '2024-03-20T10:30:00Z',
                status: 'pending',
                excerpt: 'Amazing experience with Google\'s interview process. The technical rounds were challenging but fair...',
                company: 'Google',
                role: 'Software Engineer',
                result: 'selected',
                flagged: false,
                reported: false,
                priority: 'normal'
            },
            {
                id: 2,
                type: 'doubt',
                title: 'How to prepare for system design interviews?',
                author: 'Priya Singh',
                authorEmail: 'priya.singh@example.com',
                college: 'IIT Bombay',
                submitDate: '2024-03-20T09:15:00Z',
                status: 'pending',
                excerpt: 'I\'m a final year student and most companies are asking system design questions...',
                tags: ['System Design', 'Interview Prep'],
                flagged: false,
                reported: true,
                priority: 'high'
            },
            {
                id: 3,
                type: 'experience',
                title: 'Microsoft SDE Intern Interview',
                author: 'Amit Kumar',
                authorEmail: 'amit.kumar@example.com',
                college: 'NIT Trichy',
                submitDate: '2024-03-20T08:45:00Z',
                status: 'pending',
                excerpt: 'Great learning experience despite the rejection. The interviewers were supportive...',
                company: 'Microsoft',
                role: 'SDE Intern',
                result: 'rejected',
                flagged: true,
                reported: false,
                priority: 'high'
            },
            {
                id: 4,
                type: 'experience',
                title: 'Amazon SDE-1 Interview Experience',
                author: 'Sneha Patel',
                authorEmail: 'sneha.patel@example.com',
                college: 'BITS Pilani',
                submitDate: '2024-03-19T16:20:00Z',
                status: 'approved',
                excerpt: 'Comprehensive interview process with multiple rounds including leadership principles...',
                company: 'Amazon',
                role: 'SDE-1',
                result: 'selected',
                flagged: false,
                reported: false,
                priority: 'normal'
            },
            {
                id: 5,
                type: 'doubt',
                title: 'Best resources for DSA preparation?',
                author: 'Karan Shah',
                authorEmail: 'karan.shah@example.com',
                college: 'DTU',
                submitDate: '2024-03-19T14:10:00Z',
                status: 'approved',
                excerpt: 'Looking for comprehensive resources to prepare for data structures and algorithms...',
                tags: ['DSA', 'Preparation', 'Resources'],
                flagged: false,
                reported: false,
                priority: 'normal'
            },
            {
                id: 6,
                type: 'experience',
                title: 'Meta Frontend Engineer Interview',
                author: 'Riya Jain',
                authorEmail: 'riya.jain@example.com',
                college: 'IIIT Hyderabad',
                submitDate: '2024-03-19T11:30:00Z',
                status: 'rejected',
                excerpt: 'Interview focused heavily on React and frontend system design...',
                company: 'Meta',
                role: 'Frontend Engineer',
                result: 'selected',
                flagged: false,
                reported: false,
                priority: 'normal'
            }
        ];

        let filteredContent = [...contentItems];
        let currentContentId = null;

        function renderContentList() {
            const contentList = document.getElementById('contentList');
            const contentCount = document.getElementById('contentCount');
            
            contentCount.textContent = `${filteredContent.length} items`;
            
            contentList.innerHTML = filteredContent.map(item => `
                <div class="content-item ${item.priority === 'high' ? 'priority-high' : ''}" data-id="${item.id}">
                    <div class="content-header">
                        <div class="content-type">
                            <span class="type-badge ${item.type}">${item.type.charAt(0).toUpperCase() + item.type.slice(1)}</span>
                            ${item.flagged ? '<span class="flag-badge">🚩 Flagged</span>' : ''}
                            ${item.reported ? '<span class="report-badge">⚠️ Reported</span>' : ''}
                        </div>
                        <div class="content-status">
                            <span class="status-badge ${item.status}">${item.status.charAt(0).toUpperCase() + item.status.slice(1)}</span>
                        </div>
                    </div>
                    
                    <div class="content-body">
                        <h3 class="content-title">${item.title}</h3>
                        <p class="content-excerpt">${item.excerpt}</p>
                        
                        <div class="content-meta">
                            <div class="author-info">
                                <div class="avatar small">
                                    <svg width="20" height="20" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M10 2C6.7 2 4 4.7 4 8c0 3.3 2.7 6 6 6s6-2.7 6-6c0-3.3-2.7-6-6-6zm0 2c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm0 10c-1.7 0-3.2-.9-4.1-2.3.7-1.2 2.2-2 3.1-2h2c.9 0 2.4.8 3.1 2-.9 1.4-2.4 2.3-4.1 2.3z"/>
                                    </svg>
                                </div>
                                <div class="author-details">
                                    <div class="author-name">${item.author}</div>
                                    <div class="author-college">${item.college}</div>
                                </div>
                            </div>
                            <div class="submit-time">${formatDate(item.submitDate)}</div>
                        </div>
                        
                        ${item.type === 'experience' ? `
                        <div class="experience-details">
                            <span class="company-tag">${item.company}</span>
                            <span class="role-tag">${item.role}</span>
                            <span class="result-badge ${item.result}">${item.result.charAt(0).toUpperCase() + item.result.slice(1)}</span>
                        </div>
                        ` : ''}
                        
                        ${item.type === 'doubt' && item.tags ? `
                        <div class="doubt-tags">
                            ${item.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                        </div>
                        ` : ''}
                    </div>
                    
                    <div class="content-actions">
                        <button class="btn btn-secondary btn-sm" onclick="viewContent(${item.id})">View Details</button>
                        ${item.status === 'pending' ? `
                        <button class="btn btn-danger btn-sm" onclick="openRejectionModal(${item.id})">Reject</button>
                        <button class="btn btn-primary btn-sm" onclick="quickApprove(${item.id})">Approve</button>
                        ` : ''}
                        ${item.status === 'rejected' ? `
                        <button class="btn btn-secondary btn-sm" onclick="requestEdit(${item.id})">Request Edit</button>
                        ` : ''}
                    </div>
                </div>
            `).join('');
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            const now = new Date();
            const diffTime = Math.abs(now - date);
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            
            if (diffDays === 1) return 'Today';
            if (diffDays === 2) return 'Yesterday';
            if (diffDays <= 7) return `${diffDays - 1} days ago`;
            return date.toLocaleDateString();
        }

        function filterContent() {
            const contentType = document.querySelector('input[name="contentType"]:checked').value;
            const status = document.querySelector('input[name="status"]:checked').value;
            const dateRange = document.querySelector('input[name="dateRange"]:checked').value;
            const flagged = document.querySelector('input[name="priority"][value="flagged"]').checked;
            const reported = document.querySelector('input[name="priority"][value="reported"]').checked;
            
            filteredContent = contentItems.filter(item => {
                // Content type filter
                if (contentType !== 'all' && item.type !== contentType) return false;
                
                // Status filter
                if (status !== 'all' && item.status !== status) return false;
                
                // Priority filters
                if (flagged && !item.flagged) return false;
                if (reported && !item.reported) return false;
                
                // Date range filter (simplified for demo)
                // In real implementation, this would filter by actual dates
                
                return true;
            });
            
            renderContentList();
        }

        function viewContent(contentId) {
            const content = contentItems.find(item => item.id === contentId);
            if (!content) return;
            
            currentContentId = contentId;
            const modal = document.getElementById('moderationModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalBody = document.getElementById('modalBody');
            
            modalTitle.textContent = `Review ${content.type.charAt(0).toUpperCase() + content.type.slice(1)}`;
            
            modalBody.innerHTML = `
                <div class="content-preview">
                    <div class="preview-header">
                        <h3>${content.title}</h3>
                        <div class="preview-meta">
                            <span>By ${content.author} (${content.authorEmail})</span>
                            <span>From ${content.college}</span>
                            <span>Submitted ${formatDate(content.submitDate)}</span>
                        </div>
                    </div>
                    
                    <div class="preview-content">
                        <p>${content.excerpt}</p>
                        ${content.type === 'experience' ? `
                        <div class="experience-info">
                            <div class="info-row">
                                <strong>Company:</strong> ${content.company}
                            </div>
                            <div class="info-row">
                                <strong>Role:</strong> ${content.role}
                            </div>
                            <div class="info-row">
                                <strong>Result:</strong> <span class="result-badge ${content.result}">${content.result.charAt(0).toUpperCase() + content.result.slice(1)}</span>
                            </div>
                        </div>
                        ` : ''}
                        
                        ${content.type === 'doubt' && content.tags ? `
                        <div class="doubt-info">
                            <div class="info-row">
                                <strong>Tags:</strong> ${content.tags.join(', ')}
                            </div>
                        </div>
                        ` : ''}
                    </div>
                    
                    ${content.flagged || content.reported ? `
                    <div class="content-warnings">
                        ${content.flagged ? '<div class="warning">🚩 This content has been flagged by the community</div>' : ''}
                        ${content.reported ? '<div class="warning">⚠️ This content has been reported by users</div>' : ''}
                    </div>
                    ` : ''}
                </div>
            `;
            
            modal.style.display = 'block';
        }

        function closeModal() {
            document.getElementById('moderationModal').style.display = 'none';
            currentContentId = null;
        }

        function openRejectionModal(contentId) {
            currentContentId = contentId;
            document.getElementById('rejectionModal').style.display = 'block';
        }

        function closeRejectionModal() {
            document.getElementById('rejectionModal').style.display = 'none';
            document.getElementById('rejectionReason').value = '';
            document.querySelectorAll('#rejectionModal input[type="checkbox"]').forEach(cb => cb.checked = false);
            currentContentId = null;
        }

        function quickApprove(contentId) {
            const content = contentItems.find(item => item.id === contentId);
            if (content) {
                content.status = 'approved';
                renderContentList();
                showToast('Content approved successfully!', 'success');
            }
        }

        function approveContent() {
            if (currentContentId) {
                quickApprove(currentContentId);
                closeModal();
            }
        }

        function rejectContent() {
            openRejectionModal(currentContentId);
            closeModal();
        }

        function confirmRejection() {
            const reason = document.getElementById('rejectionReason').value;
            if (!reason.trim()) {
                showToast('Please provide a reason for rejection', 'error');
                return;
            }
            
            const content = contentItems.find(item => item.id === currentContentId);
            if (content) {
                content.status = 'rejected';
                content.rejectionReason = reason;
                renderContentList();
                showToast('Content rejected with feedback sent to author', 'success');
            }
            
            closeRejectionModal();
        }

        function requestEdit(contentId) {
            // TODO: Implement request edit functionality
            showToast('Edit request sent to author', 'info');
        }

        function bulkApprove() {
            const pendingItems = contentItems.filter(item => item.status === 'pending');
            if (pendingItems.length === 0) {
                showToast('No pending items to approve', 'info');
                return;
            }
            
            const confirmBulk = confirm(`Are you sure you want to approve all ${pendingItems.length} pending items?`);
            if (confirmBulk) {
                pendingItems.forEach(item => item.status = 'approved');
                renderContentList();
                showToast(`${pendingItems.length} items approved successfully!`, 'success');
            }
        }

        function exportData() {
            // TODO: Implement data export functionality
            showToast('Data export feature coming soon!', 'info');
        }

        function showToast(message, type) {
            const toast = document.createElement('div');
            toast.className = `toast toast-${type}`;
            toast.textContent = message;
            document.body.appendChild(toast);
            setTimeout(() => toast.remove(), 3000);
        }

        // Close modals when clicking outside
        window.onclick = function(event) {
            const moderationModal = document.getElementById('moderationModal');
            const rejectionModal = document.getElementById('rejectionModal');
            
            if (event.target === moderationModal) {
                closeModal();
            }
            if (event.target === rejectionModal) {
                closeRejectionModal();
            }
        }

        // Initialize
        renderContentList();
    </script>
</body>
</html>